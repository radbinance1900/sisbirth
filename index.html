<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>For Didi üéÄ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Cute script + friendly handwriting -->
  <link href="https://fonts.googleapis.com/css2?family=Cookie&family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #ffffff;
      --pink: #d78aa5;
      --pink-mid: #d78aa5;
      --pink-dark: #c27896;
      --pink-light: #eeb9c9;
      --ink: #4a3140;
      --card: #fff7fb;
      --shadow: rgba(0,0,0,0.16);
      --accent: #ff468d;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg)}
    body{
      display:flex;align-items:center;justify-content:center;
      padding:20px;
      font-family:'Kalam', system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    .scene{
      width:min(920px,100%);
      max-height:92vh;
      aspect-ratio:16/9;
      display:flex;align-items:center;justify-content:center;
      position:relative;
      isolation:isolate;
    }

    /* Title */
    .title{
      position:absolute; top:10px; left:50%; transform:translateX(-50%);
      font-family:'Cookie', cursive;
      font-size: clamp(28px, 6vw, 56px);
      color:#d79ab1;
      opacity:.9;
      pointer-events:none;
      text-shadow:0 4px 12px rgba(0,0,0,.07);
    }

    /* Envelope block, patterned like the image */
    .envelope{
      width:min(560px, 86vw);
      position:relative;
      cursor:pointer;
      user-select:none;
      filter: drop-shadow(0 24px 28px var(--shadow));
      display:grid;
      place-items:center;
      outline: none;
    }

    /* Base rectangle with triangle pattern rows */
    .env-body{
      width:100%;
      height:min(360px, 56vw);
      background:
        linear-gradient(#0000, #0000) padding-box,
        repeating-linear-gradient(
          0deg,
          #e8b3c4 0 52px,
          #e8b3c4 52px 60px
        );
      border-radius:18px;
      position:relative;
      overflow:hidden;
      border: 0 solid transparent;
      box-shadow: inset 0 -1px 0 rgba(0,0,0,.05);
    }

    /* Pink rows of small triangles to echo the screenshot */
    .env-body::before{
      content:'';
      position:absolute; inset:0 0 0 0;
      background:
        repeating-linear-gradient(
          0deg,
          #e8b3c4 0 60px,
          #e8b3c4 60px 60px
        ),
        conic-gradient(from 45deg at 16px 30px, #eab8c7 0 25%, #0000 0 50%) 0 0/64px 60px repeat;
      mix-blend-mode: multiply;
      opacity:.8;
    }

    /* Top triangle flap (color like the screenshot) */
    .env-flap{
      position:absolute;
      width: 76%;
      aspect-ratio: 1/0.62;
      background: var(--pink-mid);
      left:50%; top: -3%;
      transform: translateX(-50%);
      clip-path: polygon(50% 0, 100% 100%, 0 100%);
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
      transform-origin: top center;
      transition: transform 900ms cubic-bezier(.2,.8,.2,1);
      z-index: 3;
    }

    /* Front cover strip to hide letter edge and create opening seam */
    .env-front{
      position:absolute; left:0; right:0; bottom:0;
      height:58%;
      background: linear-gradient(180deg, #e7a8bc 0%, #e3a0b6 100%);
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
      border-bottom-left-radius:18px; border-bottom-right-radius:18px;
      z-index:4;
      box-shadow: inset 0 6px 12px rgba(255,255,255,.25), 0 10px 20px rgba(0,0,0,.08);
    }

    /* Handwritten on envelope: "for didi" */
    .for{
      position:absolute;
      bottom: 18%;
      left:50%; transform:translateX(-50%) rotate(-2deg);
      font-family:'Cookie', cursive;
      font-size: clamp(22px, 4.6vw, 40px);
      color:#ffeaf2;
      text-shadow:0 2px 0 rgba(0,0,0,.12);
      z-index:5;
      pointer-events:none;
    }

    /* Letter card that slides up when opened */
    .letter{
      position:absolute;
      width: 80%;
      max-width: 520px;
      background: linear-gradient(180deg, #ffffff 0%, var(--card) 100%);
      border-radius:16px;
      padding: 22px 22px 26px 28px;
      left: 50%;
      bottom: 16%;
      transform: translate(-50%, 0);
      box-shadow: 0 16px 26px rgba(0,0,0,.12), inset 0 -1px 0 rgba(0,0,0,.04);
      border: 1px solid #ffe0ef;
      z-index:2;
      overflow:hidden;
      transition: transform 900ms cubic-bezier(.2,.8,.2,1), box-shadow 900ms cubic-bezier(.2,.8,.2,1);
    }

    /* Subtle vertical line like stationery */
    .letter::after{
      content:'';
      position:absolute; top:0; bottom:0; right:16px; width:3px;
      background: linear-gradient(180deg, #e7a8bc 0%, #ffbcd2 100%);
      border-radius:3px;
      opacity:.85;
    }

    .greet{
      font-family:'Cookie', cursive;
      color: var(--accent);
      font-size: clamp(26px, 4.8vw, 44px);
      margin: 2px 0 10px 0;
    }

    .divider{
      height:2px; width:100%;
      background: linear-gradient(90deg, transparent, #ffd0e4 30%, #ffc2dd 70%, transparent);
      border-radius:2px; margin: 2px 0 12px 0;
    }

    .msg{
      color: var(--ink);
      font-size: clamp(16px, 2.6vw, 22px);
      line-height: 1.7;
      white-space: pre-wrap;
      min-height: 8lh;
    }

    /* Caret */
    .caret{
      display:inline-block;
      width: 10px; height: 1.05em;
      margin-left: 2px;
      background: linear-gradient(180deg, #ff8fba 0%, #ff3d85 100%);
      border-radius: 2px;
      vertical-align: -2px;
      animation: blink 1s steps(1) infinite;
    }
    @keyframes blink{
      0%,49%{opacity:1} 50%,100%{opacity:0}
    }

    /* Open state */
    .opened .env-flap{ transform: translateX(-50%) rotateX(-165deg); }
    .opened .letter{
      transform: translate(-50%, -55%);
      box-shadow: 0 26px 44px rgba(0,0,0,.18), inset 0 -1px 0 rgba(0,0,0,.05);
    }

    /* Tap hint */
    .hint{
      position:absolute; top:100%; left:50%; transform:translate(-50%, 12px);
      font-size:14px; font-weight:700; color:#9a5873;
      background:#fff0f6; padding:6px 10px; border-radius:999px;
      box-shadow:0 6px 16px rgba(255, 99, 150, .18);
      white-space:nowrap;
      transition:opacity .5s ease, transform .5s ease;
    }
    .opened .hint{opacity:0; transform:translate(-50%, 18px)}

    /* Confetti layer with emojis floating up lightly (CSS-only hearts) */
    .float{
      position:absolute; inset:0; pointer-events:none; overflow:hidden; z-index:6;
    }
    .heart{ position:absolute; left:50%; top:54%; font-size:18px;
      animation: floatUp 1400ms ease-out forwards; opacity:.9;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,.2));
    }
    @keyframes floatUp{
      0%{ transform: translate(-50%, 0) scale(.8); opacity:0; }
      10%{ opacity:1; }
      100%{ transform: translate(-50%, -260px) scale(1.25) rotate(-8deg); opacity:0; }
    }
  </style>
</head>
<body>
  <div class="scene">
    <div class="title">A Special Letter For You</div>

    <div class="float" aria-hidden="true" id="float"></div>

    <button class="envelope" id="env" aria-label="Open birthday letter for didi">
      <div class="env-body">
        <div class="env-flap"></div>
        <div class="env-front"></div>
        <div class="for">for didi</div>

        <div class="letter" id="letter">
          <div class="greet">Happy Birthday, Didi üéÇ‚ú®</div>
          <div class="divider"></div>
          <div class="msg" id="msg"><span class="caret" id="caret"></span></div>
          <div class="hint">Tap the envelope</div>
        </div>
      </div>
    </button>
  </div>

  <!-- Lightweight confetti (emoji-based) -->
  <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>

  <script>
    const env = document.getElementById('env');
    const msgBox = document.getElementById('msg');
    const caret = document.getElementById('caret');
    const floatLayer = document.getElementById('float');
    const jsConfetti = new JSConfetti();

    // Full message with extra cute emojis
    const message = "Happy Birthday didi üéâüíñ\nThanks for always supporting me and standing firm behind me üôè‚ú®.\nYou gave me strength and I'm there too always ‚Äî Your Rugved üí™üíû.\nWishing you a happy B'day üéÇüåü. Love you dida ü•∞‚ù§Ô∏è.";

    let opened = false, typing = false;

    function hearts(){
      const emojis = ['üíñ','üíó','üíì','üíï','üíû','üíù','üå∏','‚ú®'];
      for(let i=0;i<12;i++){
        const s = document.createElement('span');
        s.className='heart';
        s.textContent = emojis[Math.floor(Math.random()*emojis.length)];
        const jitter = (Math.random()*220 - 110);
        const delay = Math.random()*180;
        s.style.left = `calc(50% + ${jitter}px)`;
        s.style.animationDelay = `${delay}ms`;
        s.style.fontSize = `${18 + Math.random()*10}px`;
        floatLayer.appendChild(s);
        setTimeout(()=> s.remove(), 1900 + delay);
      }
    }

    function typeWriter(text, speed=26){
      if(typing) return; typing=true;
      if(caret && caret.parentNode) caret.remove();
      const span = document.createElement('span');
      msgBox.appendChild(span);
      let i=0;
      (function tick(){
        if(i <= text.length){
          span.textContent += text[i] || '';
          i++;
          setTimeout(tick, speed + Math.round(Math.random()*24));
        }else{
          if(caret) msgBox.appendChild(caret);
          typing=false;
        }
      })();
    }

    function open(){
      if(opened) return;
      opened = true;
      env.classList.add('opened');

      // Confetti celebration with emojis and colors
      jsConfetti.addConfetti({
        emojis:['üéâ','üéÇ','üíñ','‚ú®','üå∏','üíù'],
        emojiSize:44, confettiNumber:80
      });
      setTimeout(()=>{
        jsConfetti.addConfetti({
          confettiColors:['#ff3d85','#ff9ec2','#ffd3e6','#ffffff','#ffc2dd'],
          confettiNumber:120, confettiRadius:5
        });
      }, 420);

      hearts();
      setTimeout(()=> typeWriter(message, 24), 650);
    }

    env.addEventListener('click', open);
    env.addEventListener('keydown', e=>{
      if(e.key==='Enter' || e.key===' '){ e.preventDefault(); open(); }
    });
  </script>
</body>
</html>
